import React from 'react';

import {
  View,
  Alert,
  ScrollView,
  Button,
  Text,
  Switch,
  StyleSheet
} from 'react-native';

export default class ExploitScreen extends React.Component {
  static navigationOptions = ({navigation}) => ({
    title: `${navigation.state.params.ssid}`,
  });

  state = {
    switchValue: true
  };

  _handleToggleSwitch = () => this.setState(state => ({
    switchValue: !state.switchValue
  }));

  render() {
    const {params} = this.props.navigation.state;

    return (
      <View style={styles.screen}>
        <ScrollView style={styles.infoContainer}>

          <View style={styles.entry}>
            <Text style={styles.entryLabel}>
              Protocol
            </Text>
            <Text style={[styles.entryValue, styles.entryValueText]}>
              WPA2
            </Text>
          </View>

          <View style={styles.entry}>
            <Text style={styles.entryLabel}>
              Range
            </Text>
            <Text style={[styles.entryValue, styles.entryValueText]}>
              -23 db
            </Text>
          </View>

          <View style={styles.entry}>
            <Text style={styles.entryLabel}>
              Patched
            </Text>
            <Text style={[styles.entryValue, styles.entryValueText]}>
              Nope
            </Text>
          </View>

          <View style={styles.entry}>
            <Text style={styles.entryLabel}>
              Previously Attacked
            </Text>
            <Text style={[styles.entryValue, styles.entryValueText]}>
              Yesturday
            </Text>
          </View>

          <View style={styles.entry}>
            <Text style={styles.entryLabel}>
              Capture Data
            </Text>
            <Switch onValueChange={this._handleToggleSwitch}
                    value={this.state.switchValue}
                    style={styles.entryValue}/>
          </View>


        </ScrollView>

        <View style={styles.controlContainer}>
          <Button title={"ATTACK"}
                  color={'red'}
                  style={styles.button}
                  onPress={() => Alert.alert("BOOM", "WIFI DOWN")}/>

          <Button title={"Add to Watched List"}
                  color={'#8b9dc3'}
                  style={styles.button}
                  onPress={() => Alert.alert("BOOM", "WIFI DOWN")}/>

          <Button title={"Find connected router"}
                  color={'#8b9dc3'}
                  style={styles.button}
                  onPress={() => Alert.alert("BOOM", "WIFI DOWN")}/>

          <Button title={"Send Text informing AP"}
                  color={'#3b5998'}
                  style={styles.button}
                  onPress={() => Alert.alert("BOOM", "WIFI DOWN")}/>
        </View>

      </View>
    );
  }
};

const styles = StyleSheet.create({
  screen: {
    flex: 1,
    flexDirection: 'column',
  },
  infoContainer: {
    flex: 3,
    flexGrow: 2,
    elevation: 2,
  },
  controlContainer: {
    flex: 0.5,
    flexGrow: 1
  },
  entry: {
    flex: 1,
    backgroundColor: '#f4f2f4',
    flexDirection: 'row',
    margin: 5,
    paddingVertical: 10,
  },
  entryLabel: {
    flex: 1,
    fontSize: 18,
    paddingLeft: 10,
    textAlign: 'left',
    justifyContent: 'flex-start',
  },
  entryValue: {
    flex: 1,
    paddingRight: 15,
    justifyContent: 'flex-end',
  },
  entryValueText: {
    fontSize: 18,
    textAlign: 'right',
  },
  button: {
    padding: 10,
  }
});
